# Touch Down Card Game - ê°œë°œ ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í”„ë¡œì íŠ¸ ì„¤ì •
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/dev-Rluan/touch_down_card_game.git
cd touch_down_card_game

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

### 2. ì ‘ì† í™•ì¸
- ì„œë²„: `http://localhost:3000`
- ê°œë°œì ë„êµ¬ì—ì„œ Socket.IO ì—°ê²° í™•ì¸

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

### í•µì‹¬ íŒŒì¼ë“¤
```
src/
â”œâ”€â”€ server.js              # ë©”ì¸ ì„œë²„ íŒŒì¼ (server_improved.js ì‚¬ìš©)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ roomService.js     # ë°© ê´€ë¦¬ ë¡œì§
â”‚   â”œâ”€â”€ userServices.js    # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â””â”€â”€ gameService.js      # ê²Œì„ ë¡œì§
â”œâ”€â”€ public/js/app.js        # í´ë¼ì´ì–¸íŠ¸ JavaScript
â””â”€â”€ view/index.html        # ë©”ì¸ í˜ì´ì§€
```

### ë¬¸ì„œ íŒŒì¼ë“¤
```
docs/
â”œâ”€â”€ API_í†µì‹ _ê·œê²©_ë¬¸ì„œ.md    # Socket.IO ì´ë²¤íŠ¸ ëª…ì„¸
â”œâ”€â”€ ì†Œí”„íŠ¸ì›¨ì–´_ìŠ¤í™_ë¬¸ì„œ.md   # ì „ì²´ ì‹œìŠ¤í…œ ìŠ¤í™
â””â”€â”€ ê°œë°œê°€ì´ë“œ.md            # ì´ íŒŒì¼
```

## ğŸ› ï¸ ê°œë°œ í™˜ê²½

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18.0.0 ì´ìƒ
- npm 8.0.0 ì´ìƒ
- Git

### ê¶Œì¥ IDE ì„¤ì •
- VS Code + Socket.IO í™•ì¥
- ESLint í™•ì¥
- Prettier í™•ì¥

### í™˜ê²½ ë³€ìˆ˜
```bash
# .env íŒŒì¼ ìƒì„±
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug
```

## ğŸ“ ì½”ë”© ê·œì¹™

### 1. í•¨ìˆ˜ ì‘ì„± ê·œì¹™
```javascript
/**
 * ë°© ìƒì„± í•¨ìˆ˜
 * @param {string} socketId - ì†Œì¼“ ID
 * @param {string} roomName - ë°© ì´ë¦„
 * @param {number} maxUserCnt - ìµœëŒ€ ì¸ì›ìˆ˜
 * @returns {Object} ìƒì„±ëœ ë°© ì •ë³´
 * @throws {Error} ë°© ì´ë¦„ ì¤‘ë³µ ë˜ëŠ” ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ê°’
 */
function createRoom(socketId, roomName, maxUserCnt) {
  // ì…ë ¥ê°’ ê²€ì¦
  if (!socketId || !roomName || !roomName.trim()) {
    throw new Error("í•„ìˆ˜ ì…ë ¥ê°’ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }
  
  // í•¨ìˆ˜ êµ¬í˜„
  // ...
}
```

### 2. ì—ëŸ¬ ì²˜ë¦¬ ê·œì¹™
```javascript
// âœ… ì¢‹ì€ ì˜ˆ
try {
  const room = roomService.createRoom(socketId, roomName, maxCnt);
  socket.emit('roomCreated', room);
} catch (error) {
  console.error('[createRoom Error]', error);
  socket.emit('createRoomError', error.message);
}

// âŒ ë‚˜ìœ ì˜ˆ
const room = roomService.createRoom(socketId, roomName, maxCnt);
socket.emit('roomCreated', room);
```

### 3. ë¡œê¹… ê·œì¹™
```javascript
// ë¡œê·¸ ë ˆë²¨ë³„ ì‚¬ìš©
console.log('[Info]', 'ì‚¬ìš©ì ì—°ê²°:', socket.id);
console.warn('[Warning]', 'ë°© ì¸ì› ì´ˆê³¼');
console.error('[Error]', 'ë°© ìƒì„± ì‹¤íŒ¨:', error.message);
console.debug('[Debug]', 'ë°© ëª©ë¡:', roomList);
```

## ğŸ”§ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ê¸°ëŠ¥ ê°œë°œ ê³¼ì •
1. **ì´ìŠˆ ìƒì„±**: GitHub Issuesì—ì„œ ì‘ì—… í•­ëª© ìƒì„±
2. **ë¸Œëœì¹˜ ìƒì„±**: `feature/ê¸°ëŠ¥ëª…` ë¸Œëœì¹˜ ìƒì„±
3. **ê°œë°œ**: ê¸°ëŠ¥ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸
4. **ì»¤ë°‹**: ëª…í™•í•œ ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±
5. **PR ìƒì„±**: Pull Request ìƒì„± ë° ë¦¬ë·° ìš”ì²­
6. **ë³‘í•©**: ë¦¬ë·° ì™„ë£Œ í›„ main ë¸Œëœì¹˜ ë³‘í•©

### 2. ë¸Œëœì¹˜ ì „ëµ
```
main (í”„ë¡œë•ì…˜)
â”œâ”€â”€ develop (ê°œë°œ)
â”œâ”€â”€ feature/room-management
â”œâ”€â”€ feature/game-logic
â”œâ”€â”€ bugfix/connection-issue
â””â”€â”€ hotfix/critical-bug
```

### 3. ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™
```
feat: ë°© ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
fix: ì—°ê²° í•´ì œ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ìˆ˜ì •
docs: API ë¬¸ì„œ ì—…ë°ì´íŠ¸
style: ì½”ë“œ í¬ë§·íŒ… ìˆ˜ì •
refactor: roomService ë¦¬íŒ©í† ë§
test: ë°© ê´€ë¦¬ í…ŒìŠ¤íŠ¸ ì¶”ê°€
chore: ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
```javascript
// tests/unit/services/roomService.test.js
describe('roomService', () => {
  describe('createRoom', () => {
    it('should create room with valid input', () => {
      const socketId = 'test-socket-id';
      const roomName = 'í…ŒìŠ¤íŠ¸ë°©';
      const maxUserCnt = 4;
      
      const room = roomService.createRoom(socketId, roomName, maxUserCnt);
      
      expect(room).toBeDefined();
      expect(room.name).toBe(roomName);
      expect(room.maxUserCnt).toBe(maxUserCnt);
    });
    
    it('should throw error with invalid input', () => {
      expect(() => {
        roomService.createRoom('', 'ë°©ì´ë¦„', 4);
      }).toThrow('í•„ìˆ˜ ì…ë ¥ê°’ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.');
    });
  });
});
```

### 2. í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
```javascript
// tests/integration/socket.test.js
describe('Socket.IO Integration', () => {
  it('should handle room creation flow', (done) => {
    const client = io('http://localhost:3000');
    
    client.emit('createRoom', 'í…ŒìŠ¤íŠ¸ë°©', 4);
    
    client.on('roomCreated', (room) => {
      expect(room.name).toBe('í…ŒìŠ¤íŠ¸ë°©');
      client.disconnect();
      done();
    });
  });
});
```

## ğŸš€ ë°°í¬ ê°€ì´ë“œ

### 1. í”„ë¡œë•ì…˜ ë¹Œë“œ
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜ (í”„ë¡œë•ì…˜ë§Œ)
npm ci --only=production

# ì„œë²„ ì‹œì‘
npm start
```

### 2. Docker ë°°í¬
```dockerfile
# Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

### 3. í™˜ê²½ë³„ ì„¤ì •
```javascript
// config/production.js
module.exports = {
  port: process.env.PORT || 3000,
  logging: {
    level: 'info'
  },
  database: {
    // í”„ë¡œë•ì…˜ DB ì„¤ì •
  }
};
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë””ë²„ê¹…

### 1. ë¡œê·¸ í™•ì¸
```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f logs/combined.log

# ì—ëŸ¬ ë¡œê·¸ë§Œ í™•ì¸
tail -f logs/error.log
```

### 2. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```javascript
// utils/metrics.js
const metrics = {
  activeConnections: 0,
  roomsCreated: 0,
  gamesPlayed: 0,
  averageGameTime: 0
};

// ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
function updateMetrics(type, value) {
  metrics[type] = value;
  console.log('[Metrics]', metrics);
}
```

### 3. ë””ë²„ê¹… íŒ
- **ì—°ê²° ë¬¸ì œ**: Socket.IO ì—°ê²° ìƒíƒœ í™•ì¸
- **ë°© ê´€ë¦¬**: ë°© ëª©ë¡ê³¼ ì‚¬ìš©ì ìƒíƒœ í™•ì¸
- **ê²Œì„ ë¡œì§**: ê²Œì„ ìƒíƒœ ì „í™˜ í™•ì¸
- **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜**: ì—°ê²° í•´ì œ ì‹œ ì •ë¦¬ ë¡œì§ í™•ì¸

## ğŸ” ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

#### 1. ì—°ê²° ë¬¸ì œ
```javascript
// ë¬¸ì œ: í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ì—°ê²°ë˜ì§€ ì•ŠìŒ
// í•´ê²°: í¬íŠ¸ í™•ì¸ ë° ë°©í™”ë²½ ì„¤ì •
console.log('ì„œë²„ í¬íŠ¸:', PORT);
console.log('ì—°ê²° ìƒíƒœ:', socket.connected);
```

#### 2. ë°© ê´€ë¦¬ ë¬¸ì œ
```javascript
// ë¬¸ì œ: ë°©ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ
// í•´ê²°: ì…ë ¥ê°’ ê²€ì¦ ë° ì—ëŸ¬ ë¡œê·¸ í™•ì¸
if (!roomName || !roomName.trim()) {
  console.error('ë°© ì´ë¦„ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:', roomName);
  return;
}
```

#### 3. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜
```javascript
// ë¬¸ì œ: ì‚¬ìš©ì ì—°ê²° í•´ì œ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜
// í•´ê²°: ì ì ˆí•œ ì •ë¦¬ ë¡œì§ êµ¬í˜„
socket.on('disconnect', () => {
  // ì‚¬ìš©ì ì •ë³´ ì •ë¦¬
  userService.disconnectUser(socket.id);
  
  // ë°©ì—ì„œ ì‚¬ìš©ì ì œê±°
  const room = roomService.getRoomByUser(socket.id);
  if (room) {
    roomService.leaveRoom(socket.id, room.id);
  }
});
```

## ğŸ¨ UI/UX ê°œë°œ ê°€ì´ë“œ

### 1. ì¹´ë“œ ë’·ë©´ ë””ìì¸ ì‹œìŠ¤í…œ

í”„ë¡œì íŠ¸ì—ëŠ” ì—¬ëŸ¬ ì¹´ë“œ ë’·ë©´ ìŠ¤íƒ€ì¼ì´ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í”Œë ˆì´ì–´ì˜ ë±ì— ìˆëŠ” ì¹´ë“œëŠ” ì˜¤í”ˆí•˜ê¸° ì „ê¹Œì§€ ë’·ë©´ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

#### ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤íƒ€ì¼ ì˜µì…˜

| ìŠ¤íƒ€ì¼ í´ë˜ìŠ¤ | ë””ìì¸ | íŠ¹ì§• | ì‚¬ìš© ì˜ˆì‹œ |
|--------------|--------|------|----------|
| `style-pattern` | íŒ¨í„´ë§Œ | ê¹”ë”í•œ í¬ë¡œìŠ¤ í•´ì¹˜ íŒ¨í„´ (ê¸°ë³¸) | ë¯¸ë‹ˆë©€ ë””ìì¸ |
| `style-joker` | ğŸƒ | í´ë˜ì‹í•œ ì¡°ì»¤ ì¹´ë“œ | ì „í†µì ì¸ ëŠë‚Œ |
| `style-hwatu` | ğŸ´ | í™”íˆ¬ ì¹´ë“œ | í•œêµ­ ì „í†µ ê²Œì„ |
| `style-diamond` | ğŸ’ | ë°˜ì§ì´ëŠ” ë‹¤ì´ì•„ëª¬ë“œ | ê³ ê¸‰ìŠ¤ëŸ¬ìš´ íš¨ê³¼ |
| `style-star` | â­ | ê¹œë¹¡ì´ëŠ” ë³„ | í™”ë ¤í•œ ì—°ì¶œ |
| `style-suits` | â™ ï¸â™¥ï¸â™¦ï¸â™£ï¸ | ì¹´ë“œ ë¬¸ì–‘ 4ì¢… | í¬ì»¤ ìŠ¤íƒ€ì¼ |
| `style-fruits` | ğŸğŸŠğŸ‹ğŸ‡ | ê³¼ì¼ 4ì¢… | ê²Œì„ í…Œë§ˆ |
| `style-dice` | ğŸ² | ì£¼ì‚¬ìœ„ | ë³´ë“œê²Œì„ ëŠë‚Œ |

#### ìŠ¤íƒ€ì¼ ë³€ê²½ ë°©ë²•

```javascript
// src/public/js/app.js - renderMyCards í•¨ìˆ˜ì—ì„œ

// í˜„ì¬ ì‚¬ìš© ì¤‘: íŒ¨í„´ ìŠ¤íƒ€ì¼
deckCard.className = 'deck-card card-back style-pattern';

// ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ë¡œ ë³€ê²½í•˜ë ¤ë©´:
deckCard.className = 'deck-card card-back style-diamond'; // ë‹¤ì´ì•„ëª¬ë“œ
deckCard.className = 'deck-card card-back style-joker';   // ì¡°ì»¤
deckCard.className = 'deck-card card-back style-fruits';  // ê³¼ì¼
```

#### ì¹´ë“œ ë’·ë©´ CSS êµ¬ì¡°

```css
/* ê¸°ë³¸ ì¹´ë“œ ë’·ë©´ ìŠ¤íƒ€ì¼ */
.card-back {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    position: relative;
    overflow: hidden;
}

/* íŒ¨í„´ ë°°ê²½ */
.card-back-pattern {
    background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 10px, 
                                 rgba(255, 255, 255, 0.15) 10px, 
                                 rgba(255, 255, 255, 0.15) 20px),
        repeating-linear-gradient(-45deg, transparent, transparent 10px, 
                                  rgba(255, 255, 255, 0.15) 10px, 
                                  rgba(255, 255, 255, 0.15) 20px);
}
```

#### ì»¤ìŠ¤í…€ ì¹´ë“œ ë’·ë©´ ì¶”ê°€í•˜ê¸°

1. **CSSì— ìƒˆ ìŠ¤íƒ€ì¼ ì¶”ê°€** (`src/public/css/styles.css`)
```css
/* ì˜µì…˜ 9: ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
.card-back.style-custom::after {
    content: 'ğŸ¯';  /* ì›í•˜ëŠ” ì´ëª¨ì§€ ë˜ëŠ” í…ìŠ¤íŠ¸ */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 45px;
    opacity: 0.85;
}
```

2. **JavaScriptì—ì„œ ì‚¬ìš©**
```javascript
deckCard.className = 'deck-card card-back style-custom';
```

### 2. ì¹´ë“œ í‘œì‹œ ì‹œìŠ¤í…œ

#### í”Œë ˆì´ì–´ ì¹´ë“œ ë± (í•˜ë‹¨)
```javascript
// src/public/js/app.js
function renderMyCards(cards) {
    if (cards.length > 0) {
        // ì¹´ë“œ ë’·ë©´ìœ¼ë¡œ í‘œì‹œ
        deckCard.className = 'deck-card card-back style-pattern';
        deckCard.innerHTML = `
            <div class="card-back-pattern"></div>
            <div style="color:#fbbf24; font-size:16px;">
                ${cards.length}ì¥
            </div>
        `;
    }
}
```

#### ì¤‘ì•™ í”Œë ˆì´ëœ ì¹´ë“œ (ì•ë©´)
```javascript
function addCenterCard(playerId, playerName, card) {
    cardElement.innerHTML = `
        <div style="font-size:36px;">${getFruitEmoji(card.fruit)}</div>
        <div style="font-size:24px;">${card.count}</div>
    `;
}
```

### 3. ë°˜ì‘í˜• ë””ìì¸

ëª¨ë“  ì¹´ë“œ ìŠ¤íƒ€ì¼ì€ ë°˜ì‘í˜•ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤:

```css
/* ê¸°ë³¸ (ëª¨ë°”ì¼) */
.my-deck-card-slot .deck-card {
    width: 70px;
    height: 100px;
}

/* íƒœë¸”ë¦¿ */
@media (min-width: 768px) {
    .my-deck-card-slot .deck-card {
        width: 90px;
        height: 130px;
    }
}

/* ë°ìŠ¤í¬í†± */
@media (min-width: 1024px) {
    .my-deck-card-slot .deck-card {
        width: 110px;
        height: 160px;
    }
}
```

### 4. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

#### ë‹¤ì´ì•„ëª¬ë“œ ë°˜ì§ì„
```css
@keyframes diamondShine {
    0%, 100% { opacity: 0.85; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
}
```

#### ë³„ ê¹œë¹¡ì„
```css
@keyframes starTwinkle {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}
```

### 5. ì ‘ê·¼ì„± ê³ ë ¤ì‚¬í•­

- **ê³ ëŒ€ë¹„**: ì–´ë‘ìš´ ë°°ê²½ì— ë°ì€ í…ìŠ¤íŠ¸ (#fbbf24)
- **í…ìŠ¤íŠ¸ ì„€ë„ìš°**: ê°€ë…ì„± í–¥ìƒì„ ìœ„í•œ ê·¸ë¦¼ì íš¨ê³¼
- **í„°ì¹˜ ì¹œí™”ì **: ìµœì†Œ 44px í„°ì¹˜ ì˜ì—­ í™•ë³´
- **í˜¸ë²„ íš¨ê³¼**: ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ëª…í™•í•œ í”¼ë“œë°±

### 6. ì„±ëŠ¥ ìµœì í™”

- **CSS Transform ì‚¬ìš©**: ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- **GPU ê°€ì†**: transform ë° opacity ì‚¬ìš©
- **ìµœì†Œí•œì˜ ë¦¬í”Œë¡œìš°**: position: absolute í™œìš©

## ğŸ“š ì¶”ê°€ ìë£Œ

### ì°¸ê³  ë¬¸ì„œ
- [Socket.IO ê³µì‹ ë¬¸ì„œ](https://socket.io/docs/)
- [Express.js ê°€ì´ë“œ](https://expressjs.com/guide/)
- [Node.js ëª¨ë²” ì‚¬ë¡€](https://nodejs.org/en/docs/guides/)
- [CSS Animation ê°€ì´ë“œ](https://developer.mozilla.org/ko/docs/Web/CSS/CSS_Animations)

### ìœ ìš©í•œ ë„êµ¬
- **Postman**: API í…ŒìŠ¤íŠ¸
- **Socket.IO Client**: í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸
- **Chrome DevTools**: ë””ë²„ê¹…
- **VS Code**: ê°œë°œ í™˜ê²½
- **Browser DevTools**: CSS ì• ë‹ˆë©”ì´ì…˜ ë””ë²„ê¹…

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ ê°œë°œí•˜ë©´ íš¨ìœ¨ì ì´ê³  ì•ˆì •ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€
