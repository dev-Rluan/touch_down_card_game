# Game Logic

게임은 카드를 모으는 식으로 진행되며, 카드를 모두 잃으면 탈락하고 마지막까지 카드가 남아있는 사람이 승리하게 된다.[1]

    시작하기 전에, 56장의 카드를 나누어 각자의 앞에 놓고[2] 종을 중앙에 놓는다. 단, 카드는 본인도 뭘 가지고 있는지 모르게 뒤집어 놓는다.

    정해진 방향으로 돌아가면서, 각자 카드를 한 장씩 뒤집어서 놓으며 공개한다. 핵심 규칙은 다른 사람이 먼저 카드를 볼 수 있도록 카드를 바깥쪽(종에 가까운 쪽)부터 뒤집는 것. 한바퀴가 돌아서 다시 본인의 차례가 돌아오면 본인이 놓았던 카드 위에 새 카드를 뒤집어서 놓는다.

    바닥에 놓인 펼쳐진 카드들 중에서 같은 과일의 개수가 가장 먼저 5개가 될 때 앞에 놓은 종을 최대한 빨리 친다. 이 때 '한 바퀴'를 기준으로 5개이며, 누적으로 5개가 아니다. 즉, 새로운 카드에 의해 가려진 카드는 효력이 없어지게 된다. 5개가 되어 가장 빨리 종을 친 사람이 이번 게임의 승자가 되어서 바닥에 놓인 모든 카드를 가져간다.

    같은 과일의 개수가 5개가 되지 않았는데 종을 치면 벌칙으로 카드 한 장씩을 다른 사람에게 준다. 그리고 그동안 낸 카드를 종 밑에 엎어놓는다. 그 다음판에 종을 올바르게 친 사람이 종 밑의 카드도 전부 가져간다.

    카드를 모두 잃은 사람이 순서대로 탈락하고, 최후까지 살아남아 카드를 몽땅 가져간 1인이 승리한다. 게임이 쉽게 끝나지 않는 걸 막기 위해서 1:1 상황에서는 종을 잘못 친 사람이 지는 규칙을 적용하기도 한다. 

    - 나무위키

이러한 게임 로직을 JavaScript로 구현하려면, 다음과 같은 함수들이 필요합니다.

1.  shuffle(cards): 카드를 섞는 함수. cards는 카드를 담은 배열입니다.
2. dealCards(cards, numOfPlayers): 카드를 나누는 함수. cards는 카드를 담은 배열이며, numOfPlayers는 플레이어의 수입니다. 함수는 플레이어 수에 따라 나눠진 카드를 반환합니다.
3. isValidCard(card, lastCard): 내려는 카드가 놓일 수 있는 카드인지를 검사하는 함수. card는 내려보내는 카드이며, lastCard는 중앙에 놓인 카드입니다. 함수는 참/거짓 값을 반환합니다.
4. playCard(card): 카드를 놓는 함수. card는 내려보내는 카드입니다.
5. nextTurn(): 다음 턴으로 넘어가는 함수.